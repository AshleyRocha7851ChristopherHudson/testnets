# Upgrade Neutron from v1.0.4 to v1.1.0

### Release Details

* Chain upgrade point: TODO: DETERMINE AND ADD HEIGHT AND DATE
* Go version: v1.20
* Release: TODO: ADD LINK TO THE RELEASE

The new Neutron release incorporates Duality into Neutron, upgrades the Cosmos SDK version from v0.45 to v0.47, improves smart contract development experience, and brings a number of other changes to the chain. Read more about the features coming with the upgrade on the [proposal page](https://forum.neutron.org/t/draft-proposal-neutrality-upgrade/191).

# Steps to upgrade the chain

## Step 1 : All upgrades will be done using cosmovisor.

* stop the neutron chain

```shell
   sudo systemctl stop neutrond
```

* Further follow the cosmovisor setup guide.

# Setup Cosmovisor

## Create the upgraded Neutron binary of v1.1.0

```shell
   mkdir -p ~/.neutrond/cosmovisor/upgrades/v1.1.0/bin
```
* Go to neutron directory if present, else clone the repository

```shell
   git clone https://github.com/neutron-org/neutron.git
```

* If Neutron repo already present, `cd` to it and follow these steps:

```shell
   git pull --tags
   git checkout v1.1.0
   make install
```

## Check current neutron version
```shell
   ~/.neutrond/cosmovisor/current/bin/neutrond version
   # Output should be
   1.0.4
```

## Check the new neutron version, verify the latest commit hash

```shell
  $ neutrond version --long
  ...
  name: neutron
  server_name: neutrond
  version: 1.1.0
  commit: TODO: ADD COMMIT HASH WHEN THE RELEASE IS READY
```

## Checksum of the binary

```shell
$ shasum -a 256 neutrond
TODO: ADD EXPECTED CHECKSUM ONCE RELEASE BIN IS READY neutrond
```

## Copy the new neutron (v1.1.0) binary to cosmovisor upgrades directory

```shell
   cp $GOPATH/bin/neutrond ~/.neutrond/cosmovisor/upgrades/v1.1.0/bin
```
